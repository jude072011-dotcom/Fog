<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-44TM52GM2B"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-44TM52GM2B');
    </script>
    <!-- Google Tag Manager -->
    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-PP6772XP');</script>
    <!-- End Google Tag Manager -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3724985851304355"
            crossorigin="anonymous"></script>
    <title>Home</title>
    <link rel="icon" type="image/x-icon" href="./images/favicon2.png">
    <link href="./index.css" rel="stylesheet">
    <link href="./nav.css" rel="stylesheet">
    <script href="./fram.js"></script>
    <script href="./index.js"></script>
    <script href="./scripts/preventcloser.js"></script>
    <script src="./scripts/background.js"></script>
    <style>
        #removeLagButton {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 10px;
            background-color: #4d4c4c;
            color: #fff;
            cursor: pointer;
            border: none;
            border-radius: 5px;
        }

        #iframeContainer {
            position: fixed;
            top: 72px;
            left: 0;
            bottom: 0;
            right: 0;
            width: 100%;
            height: 100%;
            border: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
            z-index: 1000;
        }

        /* changelog css */
        #changelog {
            width: 80%;
            margin: 30px auto;
            padding: 20px;
            background-color: #1c1c1c;
            color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }

            #changelog h2 {
                font-size: 24px;
                font-weight: bold;
                text-align: center;
                margin-top: 0;
                margin-bottom: 10px;
            }

            #changelog p {
                font-size: 18px;
                margin-top: 0;
            }

            #changelog ul {
                list-style-type: none;
                padding: 0;
                margin-top: 10px;
            }

                #changelog ul li {
                    margin-bottom: 5px;
                    font-size: 18px;
                }

                    #changelog ul li.added {
                        color: #00ff00;
                    }

                    #changelog ul li.removed {
                        color: #ff0000;
                    }

                    #changelog ul li.fixed {
                        color: #ffffff;
                    }

        /* issues css */

        #issues {
            /* font-family: Arial, sans-serif; */
            width: 80%;
            margin: 30px auto;
            padding: 20px;
            background-color: #1c1c1c;
            color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }

            #issues h2 {
                font-size: 24px;
                font-weight: bold;
                text-align: center;
            }

            #issues p {
                font-size: 18px;
            }

            #issues ul {
                list-style-type: none;
                padding: 0;
                margin-top: 10px;
            }

                #issues ul li {
                    margin-bottom: 5px;
                    font-size: 18px;
                }

                    #issues ul li.added {
                        color: #00ff00;
                    }

                    #issues ul li.removed {
                        color: #ff0000;
                    }

                    #issues ul li.fixed {
                        color: #ffffff;
                    }

        /*fog client section css*/
        #menu {
            width: 80%;
            margin: 30px auto;
            padding: 20px;
            background-color: #1c1c1c;
            color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }

            #menu h2 {
                font-size: 24px;
                font-weight: bold;
                text-align: center;
            }

            #menu p {
                font-size: 18px;
            }

            #menu ul {
                list-style-type: none;
                padding: 0;
                margin-top: 10px;
            }

                #menu ul li {
                    margin-bottom: 5px;
                    font-size: 18px;
                    text-align: center;
                }

        #menu {
            font-family: Arial, sans-serif;
        }

        .button {
            background-color: #262424;
            /*#eb4034 kewl red*/
            border: none;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
        }

        #adminButton {
            display: none;
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 10px;
            background-color: #4d4c4c;
            color: #fff;
            cursor: pointer;
            border: none;
            border-radius: 5px;
        }
    </style>
</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PP6772XP" height="0" width="0"
                style="display:none;visibility:hidden"></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->

    <iframe id="MyFrame" src="./scripts/clouds.html"
            style="position:fixed; top:0; left:0; bottom:0; right:0; width:100%; height:100%; border:none; margin:0; padding:0; overflow:hidden; z-index:-1;"></iframe>
    <nav class="ka-boom">
        <ul class="nav">
            <li><a href="./index.html">Home</a></li>
            <li><a href="./select/">Search</a></li>
            <li><a href="./games">Menu</a></li>
            <li><a href="./media/">Media</a></li>
            <li><a href="./settings2.html">Settings</a></li>
        </ul>
    </nav>
    <!-- <iframe id="iframeContainer" src="./v1/popup/warning.html"></iframe> -->
    <button id="adminButton" onclick="window.location.href='./admin'">🛠️ Admin Panel</button>
    <iframe id="MyFrame" src="./search.html"
            style="position:fixed; top:7%; left:0; bottom:0; right:0; width:100%; height:100%; border:none; margin:0; padding:0; overflow:hidden;"></iframe>
    <img class="kardimg" src="./imgs/Kardna Text.png"></img>
    <!-- changelog -->
    <div id="changelog">
        <h2>v1.0.6 - The Expansion Update [Part 1] Bug Fix</h2>
        <p>Adds many new improvements to Fog, along with new features.</p>
        <ul>
            <li class="fixed">FIXED:</li>
            <li class="fixed">+ All Games page not supporting peformance mode.</li>
            <p> </p>
            <li class="added">ADDED:</li>
            <li class="added">+ Changelog</li>
            <li class="added">+ Settings</li>
            <p> </p>
            <li class="removed">REMOVED:</li>
            <li class="removed">・ Nothing</li>
        </ul>
    </div>
    <!-- known issues -->
    <div id="issues">
        <h2>Known Issues</h2>
        <ul>
            <li>ISSUE: The server could not route your request.</li>
            <li>FIX: Spam "Load Pr0xy" or "Register ServiceWorker."</li>
            <p> </p>
            <li>ISSUE: Peformance mode not disabling.</li>
            <li>FIX: Clear cookies for the site.</li>
        </ul>
    </div>

    <div id="menu" style="text-align: center; position: relative;">
        <h2>Download Our Gorilla Tag Cheat!</h2>
        <ul>
            <li>Fog Client is the most convenient cheat for Gorilla Tag</li>
            <li style="color: red;">Menu may have a false virus detection*</li>
        </ul>
        <img src="images/FogClient.png" style="display: block; margin: auto; width: 143px; height: 193px;" />
        <div style="margin-top: 10px; position: relative;">
            <button id="download"
                    onclick="window.location.href='https://cdn.discordapp.com/attachments/1209178116031905834/1241163790775750706/FogClient.dll?ex=664bd65b&is=664a84db&hm=55a66f2ab0d79457c999e0272441039ffd979b3a269991f8dcebef969b872737&'"
                    style="background-color: #262424; border: none; color: white; padding: 15px 32px; text-align: center; text-decoration: none; display: inline-block; font-size: 16px; margin: 4px 2px; cursor: pointer; position: relative; z-index: 999;">
                Download
            </button>
        </div>
    </div>

    <script>
        function removeCloudsIframes() {
            const scriptEnabled = document.cookie.split('; ').find(row => row.startsWith('scriptEnabled='));
            if (scriptEnabled) {
                const iframes = document.querySelectorAll('iframe[src="./scripts/clouds.html"]');
                iframes.forEach(iframe => {
                    iframe.remove();
                });
            } else {
                const iframeContainer = document.createElement('iframe');
                iframeContainer.setAttribute('id', 'MyFrame');
                iframeContainer.setAttribute('src', './scripts/clouds.html');
                iframeContainer.setAttribute('style', 'position:fixed; top:0; left:0; bottom:0; right:0; width:100%; height:100%; border:none; margin:0; padding:0; overflow:hidden; z-index:-1;');
                document.body.appendChild(iframeContainer);
            }
        }

        removeCloudsIframes();
    </script>

    <script>
        window.onload = function () {
            if (window.location.href.indexOf("/#menu") !== -1) {
                const menuDiv = document.getElementById("menu");
                if (menuDiv) {
                    menuDiv.scrollIntoView({ behavior: "smooth" });
                }
            }
        };
    </script>

    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>

    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyAtVsgnaqP6Jl0aqOYwYVMqOE8SS0uHoXA",
            authDomain: "fog-network-accounts.firebaseapp.com",
            projectId: "fog-network-accounts",
            storageBucket: "fog-network-accounts.appspot.com",
            messagingSenderId: "641228125011",
            appId: "1:641228125011:web:83fd2f5ceae993b12967a6"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        const auth = firebase.auth();
        const database = firebase.database();

        function getUid() {
            return localStorage.getItem('uid');
        }

        function checkAdminStatus(uid) {
            const userRef = database.ref('users/' + uid);
            return userRef.once('value').then((snapshot) => {
                return snapshot.val();
            });
        }

        function displayAccountDetails(uid, fullName) {
            console.log(`User ID: ${uid}, Full Name: ${fullName}`);
        }

        window.onload = function () {
            const uid = getUid();

            if (uid) {
                console.log('User is logged in with UID:', uid);
                checkAdminStatus(uid).then(userData => {
                    if (userData) {
                        if (userData.banned === true) {
                            localStorage.removeItem('uid');
                            auth.signOut().then(() => {
                                window.location.href = "accounts";
                            });
                        } else {
                            displayAccountDetails(uid, userData.full_name);
                            if (userData.admin === true) {
                                document.getElementById('adminButton').style.display = 'block';
                            }
                        }
                    }
                }).catch(error => {
                    console.error('Error fetching user data:', error);
                    window.location.href = "accounts/#newuser";
                });
            } else {
                console.log('No user is logged in.');
                window.location.href = "accounts/#newuser";
            }
        };
    </script>

</body>
</html>
